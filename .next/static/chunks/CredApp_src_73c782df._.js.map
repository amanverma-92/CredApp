{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/SiH/frontend/CredApp/src/components/LoadingAnimation.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport Lottie from 'lottie-react';\r\nimport loaderAnimation from '@/lib/loader.json';\r\n\r\ninterface LoadingAnimationProps {\r\n  size?: number;\r\n  className?: string;\r\n  showText?: boolean;\r\n  text?: string;\r\n}\r\n\r\nexport default function LoadingAnimation({ \r\n  className = '',\r\n  showText = false,\r\n  text = 'Loading...'\r\n}: LoadingAnimationProps) {\r\n  return (\r\n    <div className={`flex flex-col items-center justify-center ${className}`}>\r\n      <Lottie\r\n        animationData={loaderAnimation}\r\n        loop={true}\r\n        autoplay={true}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAae,SAAS,iBAAiB,KAIjB;QAJiB,EACvC,YAAY,EAAE,EACd,WAAW,KAAK,EAChB,OAAO,YAAY,EACG,GAJiB;IAKvC,qBACE,wMAAC;QAAI,WAAW,AAAC,6CAAsD,OAAV;kBAC3D,cAAA,wMAAC,iLAAM;YACL,eAAe,kHAAe;YAC9B,MAAM;YACN,UAAU;;;;;;;;;;;AAIlB;KAdwB","debugId":null}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///D:/SiH/frontend/CredApp/src/app/dashboard/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { useAuth } from '@/hooks/useAuth';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\nimport LoadingAnimation from '@/components/LoadingAnimation';\r\nimport { UserRole } from '@/types/auth';\r\n\r\nexport default function DashboardPage() {\r\n  const { user, isAuthenticated, isLoading } = useAuth();\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n\r\n  // Determine user role from current path if not available in user object\r\n  const getRoleFromPath = (path: string): UserRole => {\r\n    if (path.includes('/dashboard/institution')) return 'institution';\r\n    if (path.includes('/dashboard/employer')) return 'employer';\r\n    if (path.includes('/dashboard/admin')) return 'admin';\r\n    return 'learner'; // default\r\n  };\r\n\r\n  // Redirect based on user role or default to learner\r\n  React.useEffect(() => {\r\n    console.log('DashboardPage useEffect triggered:');\r\n    console.log('- isLoading:', isLoading);\r\n    console.log('- pathname:', pathname);\r\n    console.log('- user?.role:', user?.role);\r\n    console.log('- pathname === \"/dashboard\":', pathname === '/dashboard');\r\n    \r\n    // Only redirect if we're on the exact /dashboard path (not sub-paths)\r\n    if (!isLoading && pathname === '/dashboard') {\r\n      const userRole = user?.role || 'learner'; // Default to learner if no role\r\n      console.log('- About to redirect with userRole:', userRole);\r\n      \r\n      // Redirect to role-specific dashboard\r\n      switch (userRole) {\r\n        case 'learner':\r\n          console.log('- Redirecting to /dashboard/learner');\r\n          router.push('/dashboard/learner');\r\n          break;\r\n        case 'employer':\r\n          console.log('- Redirecting to /dashboard/employer');\r\n          router.push('/dashboard/employer');\r\n          break;\r\n        case 'institution':\r\n          console.log('- Redirecting to /dashboard/institution');\r\n          router.push('/dashboard/institution');\r\n          break;\r\n        case 'admin':\r\n          console.log('- Redirecting to /dashboard/admin');\r\n          router.push('/dashboard/admin');\r\n          break;\r\n        default:\r\n          console.log('- Redirecting to /dashboard/learner (default)');\r\n          router.push('/dashboard/learner'); // Default fallback\r\n          break;\r\n      }\r\n    } else {\r\n      console.log('- Not redirecting (condition not met)');\r\n    }\r\n  }, [isLoading, user?.role, pathname, router]);\r\n\r\n  // Show loading while redirecting\r\n  return (\r\n    <div className=\"mt-64 md:mt-24 flex items-center justify-center h-full w-full\">\r\n      <LoadingAnimation />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAQe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,SAAS,EAAE,GAAG,IAAA,iJAAO;IACpD,MAAM,SAAS,IAAA,6JAAS;IACxB,MAAM,WAAW,IAAA,+JAAW;IAE5B,wEAAwE;IACxE,MAAM,kBAAkB,CAAC;QACvB,IAAI,KAAK,QAAQ,CAAC,2BAA2B,OAAO;QACpD,IAAI,KAAK,QAAQ,CAAC,wBAAwB,OAAO;QACjD,IAAI,KAAK,QAAQ,CAAC,qBAAqB,OAAO;QAC9C,OAAO,WAAW,UAAU;IAC9B;IAEA,oDAAoD;IACpD,mLAAK,CAAC,SAAS;mCAAC;YACd,QAAQ,GAAG,CAAC;YACZ,QAAQ,GAAG,CAAC,gBAAgB;YAC5B,QAAQ,GAAG,CAAC,eAAe;YAC3B,QAAQ,GAAG,CAAC,iBAAiB,iBAAA,2BAAA,KAAM,IAAI;YACvC,QAAQ,GAAG,CAAC,gCAAgC,aAAa;YAEzD,sEAAsE;YACtE,IAAI,CAAC,aAAa,aAAa,cAAc;gBAC3C,MAAM,WAAW,CAAA,iBAAA,2BAAA,KAAM,IAAI,KAAI,WAAW,gCAAgC;gBAC1E,QAAQ,GAAG,CAAC,sCAAsC;gBAElD,sCAAsC;gBACtC,OAAQ;oBACN,KAAK;wBACH,QAAQ,GAAG,CAAC;wBACZ,OAAO,IAAI,CAAC;wBACZ;oBACF,KAAK;wBACH,QAAQ,GAAG,CAAC;wBACZ,OAAO,IAAI,CAAC;wBACZ;oBACF,KAAK;wBACH,QAAQ,GAAG,CAAC;wBACZ,OAAO,IAAI,CAAC;wBACZ;oBACF,KAAK;wBACH,QAAQ,GAAG,CAAC;wBACZ,OAAO,IAAI,CAAC;wBACZ;oBACF;wBACE,QAAQ,GAAG,CAAC;wBACZ,OAAO,IAAI,CAAC,uBAAuB,mBAAmB;wBACtD;gBACJ;YACF,OAAO;gBACL,QAAQ,GAAG,CAAC;YACd;QACF;kCAAG;QAAC;QAAW,iBAAA,2BAAA,KAAM,IAAI;QAAE;QAAU;KAAO;IAE5C,iCAAiC;IACjC,qBACE,wMAAC;QAAI,WAAU;kBACb,cAAA,wMAAC,+JAAgB;;;;;;;;;;AAGvB;GA5DwB;;QACuB,iJAAO;QACrC,6JAAS;QACP,+JAAW;;;KAHN","debugId":null}}]
}